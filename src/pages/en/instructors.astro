---
import Layout from '../../layouts/Layout.astro';
import Navigation from '../../components/Navigation.astro';
import BackButton from '../../components/BackButton.astro';
import { getAdminMembers } from '../../lib/database-postgres.js';
const admins = await getAdminMembers();
---

<Layout title="Meet Our Leadership - Siglingafélagið Ýmir" lang="en">
  <Navigation />
  
  <main>
    <!-- Hero Section -->
    <section class="bg-gradient-to-br from-ocean-green to-green-600 text-white py-20">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <div class="mb-6 flex justify-start">
          <BackButton label="Back" variant="general" />
        </div>
        <h1 class="text-5xl font-bold mb-6">Meet Our Leadership</h1>
        <p class="text-xl mb-8 max-w-3xl mx-auto">
          Learn about the leaders and instructors who make Ýmir run smoothly and safely. This list is populated from our admin database.
        </p>
      </div>
    </section>

    <!-- Leadership Section -->
    <section class="py-16 bg-white">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold text-ocean-green mb-4">Our Leadership Team</h2>
          <p class="text-xl text-anchor-gray">Club administrators and instructors.</p>
        </div>

        <!-- Dynamic Admin Profiles -->
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
          {admins && admins.length > 0 ? admins.map((admin: any) => (
            <div class="bg-sail-white rounded-lg p-8 shadow-lg text-center">
              <div class="w-32 h-32 mx-auto mb-6 rounded-full overflow-hidden bg-gray-200">
                {admin.profile_picture ? (
                  <img 
                    src={admin.profile_picture} 
                    alt={admin.name}
                    class="w-full h-full object-cover"
                  />
                ) : (
                  <div class="w-full h-full bg-ocean-green flex items-center justify-center">
                    <span class="text-white text-4xl font-bold">
                      {admin.name.split(' ').map((n: string) => n[0]).join('').toUpperCase()}
                    </span>
                  </div>
                )}
              </div>
              <h3 class="text-2xl font-bold text-ocean-green mb-2">{admin.name}</h3>
              <p class="text-lg text-anchor-gray mb-2 capitalize">{admin.role || 'Administrator'}</p>
              <p class="text-sm text-anchor-gray mb-4">{admin.email || admin.member_number}</p>
              {admin.bio && (<p class="text-anchor-gray mb-4">{admin.bio}</p>)}
            </div>
          )) : (
            <div class="col-span-full text-center text-anchor-gray">
              <p class="text-lg mb-4">No administrators found in the database.</p>
              <p class="text-sm">Administrators will appear here once they are added to the system.</p>
            </div>
          )}
        </div>


        <!-- Teaching Philosophy -->
        <div class="bg-blue-50 rounded-lg p-8 mb-16">
          <h3 class="text-2xl font-bold text-blue-900 mb-6 text-center">Our Teaching Philosophy</h3>
          <div class="grid md:grid-cols-2 gap-8">
            <div>
              <h4 class="text-lg font-semibold text-blue-800 mb-4">Safety First</h4>
              <p class="text-blue-800 mb-4">
                Every lesson begins with safety. We ensure all students understand proper safety 
                procedures, weather awareness, and emergency protocols before they ever leave the dock.
              </p>
            </div>
            <div>
              <h4 class="text-lg font-semibold text-blue-800 mb-4">Hands-On Learning</h4>
              <p class="text-blue-800 mb-4">
                We believe in learning by doing. Our instructors provide guidance and support 
                while allowing students to gain real experience on the water in a controlled environment.
              </p>
            </div>
            <div>
              <h4 class="text-lg font-semibold text-blue-800 mb-4">Individual Attention</h4>
              <p class="text-blue-800 mb-4">
                Small class sizes ensure personalized instruction. We adapt our teaching methods 
                to each student's learning style and pace, ensuring everyone reaches their potential.
              </p>
            </div>
            <div>
              <h4 class="text-lg font-semibold text-blue-800 mb-4">Community Building</h4>
              <p class="text-blue-800 mb-4">
                Sailing is about more than just technical skills. We foster a supportive community 
                where students learn from each other and build lasting friendships on the water.
              </p>
            </div>
          </div>
        </div>

        <!-- Call to Action -->
        <div class="text-center">
          <a href="/en/courses" class="btn-primary text-lg px-8 py-3 mr-4">
            View Courses
          </a>
          <a href="/en/contact" class="btn-secondary text-lg px-8 py-3">
            Contact Instructors
          </a>
        </div>
      </div>
    </section>
  </main>
</Layout>
