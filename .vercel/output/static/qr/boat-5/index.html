<!DOCTYPE html><html lang="en" data-astro-cid-nlyr3vby> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Boat Check-Out - Siglingafélagið Ýmir</title><link rel="stylesheet" href="/_astro/admin-dashboard.wKUuj3Am.css">
<link rel="stylesheet" href="/_astro/_boatId_.Bh6jK0-8.css"></head> <body class="bg-sail-white min-h-screen flex items-center justify-center" data-boat-id="boat-5" data-astro-cid-nlyr3vby> <div class="max-w-md w-full mx-4" data-astro-cid-nlyr3vby> <div class="bg-white rounded-lg shadow-lg p-8" data-astro-cid-nlyr3vby> <div class="text-center mb-6" data-astro-cid-nlyr3vby> <h1 class="text-2xl font-bold text-ocean-green mb-2" id="pageTitle" data-astro-cid-nlyr3vby>Boat Check-Out</h1> <p class="text-anchor-gray" id="boatInfo" data-astro-cid-nlyr3vby>Boat: Zest 3</p> <!-- Success message (hidden by default) --> <div id="successMessage" class="hidden" data-astro-cid-nlyr3vby> <div class="bg-green-50 border border-green-200 rounded-lg p-6 text-center" data-astro-cid-nlyr3vby> <div class="text-4xl mb-4" data-astro-cid-nlyr3vby>🎉</div> <h2 class="text-xl font-bold text-green-600 mb-2" id="successTitle" data-astro-cid-nlyr3vby></h2> <p class="text-gray-600" id="successSubtitle" data-astro-cid-nlyr3vby>Don't forget to check back in when you return :) Have fun!</p> <div id="profileLinkContainer" class="mt-4" data-astro-cid-nlyr3vby> <!-- Profile link will be added here if member info is available --> </div> </div> </div> <div class="mt-4 p-3 rounded-lg text-sm" data-astro-cid-nlyr3vby>  <div class="bg-yellow-100 text-yellow-800" data-astro-cid-nlyr3vby>
🔧 Under maintenance
<p class="mt-1 text-xs" data-astro-cid-nlyr3vby>test</p> </div>  </div> </div> <!-- Extension Options (will be populated by JavaScript) --> <div id="extensionOptions" class="mb-6 hidden" data-astro-cid-nlyr3vby> <div class="bg-blue-50 border border-blue-200 rounded-lg p-4" data-astro-cid-nlyr3vby> <h3 class="text-lg font-semibold text-blue-900 mb-3" data-astro-cid-nlyr3vby>Extend Your Time?</h3> <p class="text-blue-800 mb-4" data-astro-cid-nlyr3vby>Your return time is approaching. Would you like to extend?</p> <div id="extensionButtons" class="space-y-2" data-astro-cid-nlyr3vby> <!-- Extension buttons will be added here --> </div> <button id="declineExtension" class="mt-3 w-full px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors" data-astro-cid-nlyr3vby>
No, thanks
</button> </div> </div> <!-- Easy Check-In Button (for active check-ins) --> <div id="easyCheckIn" class="mb-6 hidden" data-astro-cid-nlyr3vby> <div class="bg-green-50 border border-green-200 rounded-lg p-4" data-astro-cid-nlyr3vby> <h3 class="text-lg font-semibold text-green-900 mb-3" data-astro-cid-nlyr3vby>Welcome Back!</h3> <p class="text-green-800 mb-4" data-astro-cid-nlyr3vby>You have an active check-in for this boat. Ready to check in?</p> <div id="activeCheckInInfo" class="mb-4 p-3 bg-white rounded border" data-astro-cid-nlyr3vby> <!-- Active check-in details will be shown here --> </div> <div class="flex space-x-3" data-astro-cid-nlyr3vby> <button id="checkInButton" class="flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold" data-astro-cid-nlyr3vby>
✅ Check In Now
</button> <button id="takeBoatOverButton" class="flex-1 px-6 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-semibold" data-astro-cid-nlyr3vby>
🚤 Take Boat Over
</button> </div> <p class="text-xs text-gray-600 mt-2" data-astro-cid-nlyr3vby>
"Take Boat Over" is for when you find a boat on land that wasn't properly checked in by the previous sailor.
</p> </div> </div> <!-- Take Boat Over Form --> <div id="takeBoatOverForm" class="mb-6 hidden" data-astro-cid-nlyr3vby> <div class="bg-orange-50 border border-orange-200 rounded-lg p-4" data-astro-cid-nlyr3vby> <h3 class="text-lg font-semibold text-orange-900 mb-3" data-astro-cid-nlyr3vby>Take Boat Over</h3> <p class="text-orange-800 mb-4" data-astro-cid-nlyr3vby>You're assuming responsibility for this boat. The previous sailor will be notified.</p> <form id="takeOverForm" class="space-y-4" data-astro-cid-nlyr3vby> <div data-astro-cid-nlyr3vby> <label for="takeOverMemberNumber" class="block text-sm font-medium text-anchor-gray mb-1" data-astro-cid-nlyr3vby>
Member Number
</label> <input type="text" id="takeOverMemberNumber" name="memberNumber" placeholder="Enter your member number" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-green" data-astro-cid-nlyr3vby> <button type="button" id="takeOverLookupMember" class="mt-1 text-sm text-ocean-green hover:text-green-700" data-astro-cid-nlyr3vby>
Look up member info
</button> </div> <div data-astro-cid-nlyr3vby> <label for="takeOverName" class="block text-sm font-medium text-anchor-gray mb-1" data-astro-cid-nlyr3vby>
Your Name
</label> <input type="text" id="takeOverName" name="name" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-green" data-astro-cid-nlyr3vby> </div> <div data-astro-cid-nlyr3vby> <label for="takeOverPhone" class="block text-sm font-medium text-anchor-gray mb-1" data-astro-cid-nlyr3vby>
Phone Number (Optional)
</label> <input type="tel" id="takeOverPhone" name="phone" placeholder="For notifications" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-green" data-astro-cid-nlyr3vby> </div> <div data-astro-cid-nlyr3vby> <label for="takeOverReturn" class="block text-sm font-medium text-anchor-gray mb-1" data-astro-cid-nlyr3vby>
Your Expected Return Time
</label> <input type="datetime-local" id="takeOverReturn" name="return" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-green" data-astro-cid-nlyr3vby> </div> <div class="flex space-x-3" data-astro-cid-nlyr3vby> <button type="submit" class="flex-1 px-6 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-semibold" data-astro-cid-nlyr3vby>
🚤 Take Boat Over
</button> <button type="button" id="cancelTakeOver" class="flex-1 px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-semibold" data-astro-cid-nlyr3vby>
Cancel
</button> </div> </form> </div> </div> <div class="text-center py-8" data-astro-cid-nlyr3vby> <div class="text-4xl mb-4" data-astro-cid-nlyr3vby> 🔧 </div> <h3 class="text-lg font-semibold mb-2" data-astro-cid-nlyr3vby> Under Maintenance </h3> <p class="text-anchor-gray" data-astro-cid-nlyr3vby> test </p> </div> <!-- Success/Error Messages --> <div id="message" class="mt-4 p-3 rounded-lg hidden" data-astro-cid-nlyr3vby></div> </div> </div> <script type="module">window.onMaintenanceReported=function(e){showMessage("Maintenance issue reported successfully! The admin team has been notified.","success"),setTimeout(()=>{location.reload()},2e3)};</script> <script type="module" src="/_astro/_boatId_.astro_astro_type_script_index_1_lang.DebN07y7.js"></script> <div id="maintenanceModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50"> <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"> <div class="mt-3"> <div class="flex items-center justify-between mb-4"> <h3 class="text-lg font-medium text-gray-900">Report Maintenance Issue</h3> <button onclick="closeMaintenanceModal()" class="text-gray-400 hover:text-gray-600"> <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path> </svg> </button> </div> <form id="maintenanceForm" class="space-y-4"> <input type="hidden" id="maintenanceBoatId"> <input type="hidden" id="maintenanceMemberNumber"> <div> <label for="issueType" class="block text-sm font-medium text-gray-700 mb-1">
Issue Type
</label> <select id="issueType" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-blue"> <option value="">Select issue type</option> <option value="mechanical">Mechanical</option> <option value="safety">Safety</option> <option value="cosmetic">Cosmetic</option> <option value="other">Other</option> </select> </div> <div> <label for="severity" class="block text-sm font-medium text-gray-700 mb-1">
Severity
</label> <select id="severity" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-blue"> <option value="low">Low - Minor issue</option> <option value="medium" selected>Medium - Moderate issue</option> <option value="high">High - Significant issue</option> <option value="critical">Critical - Safety concern</option> </select> </div> <div> <label for="issueDescription" class="block text-sm font-medium text-gray-700 mb-1">
Description
</label> <textarea id="issueDescription" required rows="4" placeholder="Describe the issue in detail..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-blue"></textarea> </div> <div class="flex space-x-3"> <button type="submit" class="flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500">
Report Issue
</button> <button type="button" onclick="closeMaintenanceModal()" class="flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500">
Cancel
</button> </div> </form> </div> </div> </div> <script type="module">function r(e,n){document.getElementById("maintenanceBoatId").value=e,document.getElementById("maintenanceMemberNumber").value=n,document.getElementById("maintenanceModal").classList.remove("hidden")}function o(){document.getElementById("maintenanceModal").classList.add("hidden"),document.getElementById("maintenanceForm").reset()}document.getElementById("maintenanceForm").addEventListener("submit",async e=>{e.preventDefault();const n=document.getElementById("maintenanceBoatId").value,i=document.getElementById("maintenanceMemberNumber").value,s=document.getElementById("issueType").value,d=document.getElementById("severity").value,c=document.getElementById("issueDescription").value;try{const t=await(await fetch("/api/maintenance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({boat_id:n,reported_by_member_number:i,issue_type:s,description:c,severity:d})})).json();t.success?(alert("Maintenance issue reported successfully!"),o(),window.onMaintenanceReported&&window.onMaintenanceReported(t.issueId)):alert("Failed to report issue: "+t.error)}catch(a){console.error("Error reporting maintenance issue:",a),alert("Failed to report maintenance issue")}});window.openMaintenanceModal=r;window.closeMaintenanceModal=o;</script> </body></html>